(this["webpackJsonpnews-interview"]=this["webpackJsonpnews-interview"]||[]).push([[0],{103:function(e,t,n){e.exports={reloadBtn:"NewsContainer_reloadBtn__rxxZ_"}},106:function(e,t,n){e.exports={container:"JobsContainer_container__CYRwR",buttons:"JobsContainer_buttons__3Mzsg"}},107:function(e,t,n){e.exports={container:"InfoPage_container__3OL6b"}},128:function(e,t,n){e.exports={author:"MainLayout_author__e9lCA"}},144:function(e,t,n){},169:function(e,t,n){},172:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(33),r=n.n(s),i=(n(144),n(35)),o=n(10),d=n(191),l=n(194),u=n(99),j=n.n(u),b=n(34),m=n.n(b),h=n(27),O=n(1),f=function(e){var t,n=e.news;return Object(O.jsxs)("div",{className:m()("ui","card",j.a.contentContainer),children:[Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsx)(h.b,{to:"/news/".concat(n.id),children:n.title})}),Object(O.jsxs)("div",{className:j.a.metaContainer,children:[Object(O.jsxs)("div",{className:"meta",children:[new Date(1e3*n.time).toString().slice(4,21)," |"]}),Object(O.jsxs)("div",{className:"meta",children:["by ",n.by," |"]}),Object(O.jsxs)("div",{className:"meta",children:["type: ",n.type," |"]}),Object(O.jsxs)("div",{className:"meta",children:["Rating: ",n.descendants]})]}),Object(O.jsx)("div",{className:"description"})]}),Object(O.jsxs)("div",{className:"extra content",children:[Object(O.jsx)("i",{className:"check icon"}),"Comments: ",(null===(t=n.kids)||void 0===t?void 0:t.length)||0]})]})},p=n(17),x=n(129),v=n(14),w=n.n(v),N=n(31),g=n(48),k=n(124),y=n.n(k).a.create({baseURL:"https://hacker-news.firebaseio.com/v0/"}),_=function(){return y.get("newstories.json?print=pretty?").then((function(e){return e.data}))},C=function(e){return y.get("/item/".concat(e,".json?print=pretty")).then((function(e){return e.data}))},R=function(e){return y.get("/item/".concat(e,".json?print=pretty")).then((function(e){return e.data}))};var I=Object(g.b)("newsReducer/loadNews",function(){var e=Object(N.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=Object(g.b)("newsReducer/loadPageNews",function(){var e=Object(N.a)(w.a.mark((function e(t,n){var c,a,s,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.getState().newsReducer.newsArray[t.page-1],n.dispatch(T(!0)),n.dispatch(D(!1)),a=[],s=0;case 5:if(!(s<c.length)){e.next=13;break}return e.next=8,C(c[s]);case 8:r=e.sent,a.push(r);case 10:s++,e.next=5;break;case 13:return n.dispatch(T(!1)),e.abrupt("return",{allData:a,loadingType:t.loadingType});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=Object(g.b)("newsReducer/checkNewNews",function(){var e=Object(N.a)(w.a.mark((function e(t,n){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=+n.getState().newsReducer.newsArray[0][0],e.next=3,_();case 3:e.sent[0]!==c&&n.dispatch(D(!0));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),A=Object(g.b)("newsReducer/checkNewNews",function(){var e=Object(N.a)(w.a.mark((function e(t,n){var c,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch(T(!0)),e.next=3,C(t);case 3:if(!(c=e.sent).kids){e.next=9;break}return e.next=7,J(c.kids);case 7:a=e.sent,c.kids=a;case 9:return n.dispatch(T(!1)),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P=Object(g.c)({name:"newsReducer",initialState:{news:[],newsArray:[],currentNews:{},isLoading:!0,page:1,isNeedUpdate:!1},reducers:{setComments:function(e,t){e.currentNews.kids=t.payload.comments},setLoading:function(e,t){e.isLoading=t.payload},setIsNeedUpdate:function(e,t){e.isNeedUpdate=t.payload},setPage:function(e,t){e.page=t.payload.page}},extraReducers:function(e){e.addCase(I.fulfilled,(function(e,t){var n=function(e,t){for(var n=[],c=0;c<e.length;c+=t)n.push(e.slice(c,c+t));return n}(t.payload,40);e.newsArray=n})),e.addCase(L.fulfilled,(function(e,t){var n;(console.log("All news loaded"),"reload"===t.payload.loadingType)?e.news=t.payload.allData:(n=e.news).push.apply(n,Object(x.a)(t.payload.allData))})),e.addCase(A.fulfilled,(function(e,t){e.currentNews=t.payload}))}}),B=P.actions,E=B.setComments,T=B.setLoading,D=B.setIsNeedUpdate,F=B.setPage,H=P.reducer;function J(e){return U.apply(this,arguments)}function U(){return(U=Object(N.a)(w.a.mark((function e(t){var n,c,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],c=0;c<t.length;c++)n.push(R(+t[c]));return e.next=4,Promise.all(n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(e){return e.newsReducer.news},M=function(e){return e.newsReducer.newsArray},Y=function(e){return e.newsReducer.currentNews},q=function(e){return e.newsReducer.page},z=function(e){return e.newsReducer.isLoading},Z=function(e){return e.newsReducer.isNeedUpdate},K=n(103),Q=n.n(K),V=n(190),W=(n(169),function(){return Object(O.jsx)("div",{className:"loader",children:Object(O.jsx)("div",{className:"loadingio-spinner-double-ring-e4ki0hot83h",children:Object(O.jsxs)("div",{className:"ldio-83g0wwbv7q7",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{})})]})})})}),X=function(){var e=Object(p.b)(),t=Object(p.c)(M),n=Object(p.c)(G),a=Object(p.c)(q),s=Object(p.c)(z),r=Object(p.c)(Z),o=Object(c.useState)(!1),d=Object(i.a)(o,2),l=d[0],u=d[1],j=Object(c.useRef)(null);Object(c.useEffect)((function(){e(I())}),[]),Object(c.useEffect)((function(){e(L({page:a,loadingType:"reload"}))}),[t]),Object(c.useEffect)((function(){l&&(e(L({page:a+1,loadingType:"addNew"})),e(F({page:a+1})),u(!1))}),[e,l]),Object(c.useEffect)((function(){var t=setInterval((function(){e(S("check"))}),6e4);return function(){clearInterval(t)}}),[]);var b=n.map((function(e){if(e)return Object(O.jsx)(f,{news:e},e.id)}));Object(c.useEffect)((function(){return document.addEventListener("scroll",h),function(){document.removeEventListener("scroll",h)}}),[s]);var h=function(e){null!==j.current&&e.target.documentElement.scrollTop+window.innerHeight-83>j.current.scrollHeight&&!l&&!s&&u(!0)},x=Object(O.jsx)("button",{className:m()("ui","secondary","button",Q.a.reloadBtn),onClick:function(){return e(I())},children:s?"Loading...":"Reload page"});return Object(O.jsxs)("div",{className:Q.a.container,ref:j,children:[b,s&&Object(O.jsx)(W,{}),Object(O.jsx)(V.a,{content:"Check new content, refresh page)",open:r,trigger:x})]})},$=n(69),ee=n.n($),te=function(){return Object(O.jsx)("div",{className:"ui active inverted dimmer",style:{height:"100vh"},children:Object(O.jsx)("div",{className:"ui large text loader",children:"Loading"})})},ne=n.p+"static/media/user.73a0bc1f.png",ce=n(192),ae=function e(t){var n=t.comment,a=Object(c.useState)([]),s=Object(i.a)(a,2),r=s[0],o=s[1],d=Object(c.useState)(!1),l=Object(i.a)(d,2),u=l[0],j=l[1],b=function(){var e=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.kids){e.next=7;break}return j(!0),e.next=4,J(n.kids);case 4:t=e.sent,j(!1),o(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=r.map((function(t){if("number"!==typeof t)return Object(O.jsx)(e,{comment:t},t.id)}));return Object(O.jsxs)("div",{className:"comment",children:[Object(O.jsx)("a",{className:"avatar",children:Object(O.jsx)("img",{src:ne,width:45,height:45})}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("a",{className:"author",children:n.by}),Object(O.jsx)("div",{className:"metadata",children:Object(O.jsx)("span",{className:"date",children:new Date(1e3*n.time).toString().slice(4,21)})}),Object(O.jsx)("div",{className:"text",dangerouslySetInnerHTML:{__html:n.text}}),Object(O.jsxs)("div",{className:"actions",children:[Object(O.jsx)("a",{className:"reply",onClick:function(){return alert("function in development")},children:"Reply"}),n.kids&&Object(O.jsx)(ce.a,{onClick:b,loading:u,children:"Load Replies"}),Object(O.jsx)("div",{className:"ui comments",children:m})]})]})]})},se=function(){var e=Object(p.b)(),t=Object(o.h)().id,n=Object(p.c)(Y),a=Object(p.c)(z),s=Object(c.useState)(!1),r=Object(i.a)(s,2),d=r[0],l=r[1];Object(c.useEffect)((function(){e(A(+t))}),[e,t]);var u,j=function(){var t=Object(N.a)(w.a.mark((function t(){var c,a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l(!0),!n.kids){t.next=9;break}return t.next=4,C(n.id);case 4:return c=t.sent,t.next=7,J(c.kids);case 7:a=t.sent,e(E({id:n.id,comments:a}));case 9:l(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=setInterval((function(){j()}),6e4);return function(){clearInterval(e)}}),[]),a||!n?Object(O.jsx)(te,{}):((null===n||void 0===n?void 0:n.kids)&&(u=n.kids.map((function(e){if("number"!==typeof e)return Object(O.jsx)(ae,{comment:e},e.id)}))),Object(O.jsxs)("div",{className:ee.a.container,children:[Object(O.jsxs)("div",{className:"ui two item menu",children:[Object(O.jsxs)(h.b,{to:"/news",className:"item",children:[Object(O.jsx)("i",{className:"arrow alternate circle left icon"})," Go back"]}),Object(O.jsxs)("a",{className:"item",onClick:function(){return e(A(+t))},children:["Reload \xa0",Object(O.jsx)("i",{className:"undo alternate icon"})]})]}),Object(O.jsx)("h1",{className:"ui dividing header",children:n.title}),Object(O.jsxs)("div",{className:ee.a.mainLink,children:[Object(O.jsx)("h3",{className:"ui header",children:"You can go to original news link: "}),Object(O.jsx)("a",{href:(null===n||void 0===n?void 0:n.url)||"#",target:"_blank",children:"Click here"})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("h2",{className:"ui dividing header",children:["Comments",Object(O.jsx)(ce.a,{className:m()("ui","secondary","button",ee.a.reloadBtn),onClick:j,loading:d,children:"Reload Comments"})]}),Object(O.jsx)("div",{className:ee.a.commentsBlock,children:Object(O.jsx)("div",{className:"ui comments",children:!d&&u})})]})]}))},re=n(106),ie=n.n(re),oe=function(){return Object(O.jsx)("div",{className:ie.a.container,children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("div",{className:"header"}),Object(O.jsx)("div",{className:"meta",children:"This page now is in development"}),Object(O.jsx)("div",{className:"description",children:"Please, go to News or Info page)"})]}),Object(O.jsx)("div",{className:"extra content",children:Object(O.jsxs)("div",{className:ie.a.buttons,children:[Object(O.jsx)(h.b,{to:"/news",children:Object(O.jsx)("div",{className:"ui basic green button",children:"News"})}),Object(O.jsx)(h.b,{to:"/info",children:Object(O.jsx)("div",{className:"ui basic blue button",children:"Info"})})]})})]})})},de=n(107),le=n.n(de),ue=function(){return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsx)("div",{className:m()("ui","link","cards",le.a.container)}),Object(O.jsx)("div",{className:m()("ui","items",le.a.container),children:Object(O.jsxs)("div",{className:"item",children:[Object(O.jsx)("div",{className:"image",children:Object(O.jsx)("img",{src:"https://avatars.githubusercontent.com/u/60394886?s=460&u=0351face4ac5348d3f5af6dee57c6822b5447380&v=4"})}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("a",{className:"header",children:"Alexey Horbunov"}),Object(O.jsx)("div",{className:"meta",children:Object(O.jsx)("span",{children:"Frontend Developer"})}),Object(O.jsxs)("div",{className:"description",children:["Hello, I`m Alex, JavaScript(ReactJS) developer. Also can write awesome apps on TypeScript(like this)",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"Check my Github account and see more interesting projects :)"]}),Object(O.jsxs)("div",{className:"extra",children:[Object(O.jsx)("div",{className:"ui red ribbon label",tabIndex:0,children:"You can check my projects on GitHub:"}),Object(O.jsxs)("a",{className:"ui animated fade black button",href:"https://github.com/Algoritm211",target:"_blank",children:[Object(O.jsx)("div",{className:"hidden content",children:Object(O.jsx)("i",{className:"github square icon normal"})}),Object(O.jsx)("div",{className:"visible content",children:"Go to My Git"})]})]})]})]})})]})},je=n(128),be=n.n(je),me=function(){var e=Object(o.g)(),t=e.location.pathname.slice(1),n=Object(c.useState)(t),s=Object(i.a)(n,2),r=s[0],u=s[1],j=function(t,n){var c=n.name;c&&(u(c),e.push("/".concat(c)))};return Object(O.jsxs)(a.a.Fragment,{children:[Object(O.jsxs)(d.a,{pointing:!0,children:[Object(O.jsx)(d.a.Item,{name:"news",active:"news"===r,onClick:j}),Object(O.jsx)(d.a.Item,{name:"jobs",active:"jobs"===r,onClick:j}),Object(O.jsx)(d.a.Item,{name:"info",active:"info"===r,onClick:j}),Object(O.jsx)(d.a.Menu,{position:"right",children:Object(O.jsx)(d.a.Item,{children:Object(O.jsx)("span",{className:be.a.author,children:" By Alexey Horbunov"})})})]}),Object(O.jsx)(l.a,{children:Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:"/news",exact:!0,component:X}),Object(O.jsx)(o.b,{path:"/news/:id",component:se}),Object(O.jsx)(o.b,{path:"/jobs",component:oe}),Object(O.jsx)(o.b,{path:"/info",component:ue}),Object(O.jsx)(o.a,{to:"/news"})]})})]})};n(172);var he=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(me,{})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,196)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},fe=(n(173),n(26)),pe=Object(fe.c)({newsReducer:H}),xe=Object(g.a)({reducer:pe});window.__store__=xe;var ve=xe;r.a.render(Object(O.jsx)(p.a,{store:ve,children:Object(O.jsx)(h.a,{children:Object(O.jsx)(he,{})})}),document.getElementById("root")),Oe()},69:function(e,t,n){e.exports={container:"NewsPage_container__3OkLO",mainLink:"NewsPage_mainLink__2J1sE",reloadBtn:"NewsPage_reloadBtn__1C_e0",commentsBlock:"NewsPage_commentsBlock__18mP5"}},99:function(e,t,n){e.exports={contentContainer:"NewsItem_contentContainer__2goDd",metaContainer:"NewsItem_metaContainer__2FlrN"}}},[[174,1,2]]]);
//# sourceMappingURL=main.3898e5c3.chunk.js.map